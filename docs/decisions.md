# Decisions (ADR-lite)

## 1. FastAPI採用
- 理由: 型ヒント/バリデーション/OpenAPI自動生成で説明しやすい。
- トレードオフ: 大規模化時の設計規律が必要。

## 2. SQLAlchemy + Alembic採用
- 理由: モデルとマイグレーションをコードで管理しやすい。
- トレードオフ: ORMの学習コスト。

## 3. Next.jsで最小CRUD
- 理由: TypeScriptで型を保ったUI実装が可能。
- トレードオフ: Node依存が増える。

## 4. CO2簡易推計モデルを「用途別係数 × 面積 × 稼働時間 × 稼働日」で開始
- 理由:
  - ifcXML取り込み直後でも、部屋用途・面積・運用時間の最小情報から月次推計を即時に算出できる。
  - 係数テーブルを用途別（office/meeting等）に切ることで、説明可能性と将来拡張性（係数差し替え）を確保できる。
  - 推計ロジックを純粋関数として分離すれば、I/Oに依存しないユニットテストで振る舞い固定がしやすい。
- トレードオフ:
  - 実測データ未連携のため精度は限定的。
  - 空調方式や季節変動、実占有率などは反映できないため、将来的な高精度化が前提。
